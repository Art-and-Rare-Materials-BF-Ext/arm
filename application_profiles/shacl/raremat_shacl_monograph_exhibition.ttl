# TODO Remove unused prefixes

@prefix aat: <http://vocab.getty.edu/aat/> .
@prefix arm: <https://w3id.org/arm/ontologies/core/> .
@prefix bf: <http://id.loc.gov/ontologies/bibframe/> .
@prefix core: <http://vivoweb.org/ontology/core#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix ex: <http://example.org/> .
@prefix gn: <http://www.geonames.org/ontology/> .
@prefix gvp: <http://vocab.getty.edu/ontology#> .
@prefix lingvo: <http://www.lingvoj.org/ontology#> .
@prefix madsrdf: <http://www.loc.gov/standards/mads/rdf/v1.rdf#> .
@prefix measurement: <https://w3id.org/arm/ontologies/measurement/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix prov: <http://www.w3.org/ns/prov> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <http://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix swa: <http://topbraid.org/swa#> .
@prefix tosh: <http://topbraid.org/tosh#> .
@prefix vivo: <http://vivoweb.org/ontology/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# TODO Review namespaces with Steven
# Can we use a single namespace for all, but still split into multiple files?

@prefix raremat_shapes_monograph: <https://w3id.org/arm/application_profile/shacl/raremat_monograph/> .
@prefix raremat_shapes_monograph_exhibition: <https://w3id.org/arm/application_profile/shacl/raremat_monograph/exhibition/> .
@prefix raremat_shapes_monograph_property_groups: <https://w3id.org/arm/application_profile/shacl/raremat_monograph/property_groups/> .


<https://w3id.org/arm/application_profile/shacl/raremat_monograph/exhibition/>
    a owl:Ontology ;
    rdfs:label "SHACL shapes for RareMat monograph exhibitions" .


raremat_shapes_monograph_exhibition:ItemForm_arm_hasExhibition 
    a sh:PropertyShape ;
    sh:path arm:hasExhibition ;
    sh:class arm:Exhibition ;
    sh:nodeKind sh:IRI ;  
    
    # NON-VALIDATING   
    # QUESTION - how do we handle the fact that this points to a context node and the users should be unaware of it when entering data? 
    # Should it still have these display properties?
    sh:name "Item exhibition" ; 
    sh:description "Information about an item in the context of an exhibition event" ;  
    sh:group raremat_shapes_monograph_property_groups:ItemHistoryAndProvenancePropertyGroup ;     
    sh:order ""^^xsd:decimal ;   
    tosh:editWidget swa:NestedObjectEditor .
 
 
# QUESTION - how does this get linked to ItemForm_arm_hasExhibition??
# QUESTION - how do we handle the fact that this is a context node and users should be unaware of it when entering data? 
raremat_shapes_monograph_exhibition:ExhibitionForm 
    a sh:NodeShape ;   
    rdfs:label "Exhibition" ;
    sh:targetClass arm:Exhibition ;
    sh:property raremat_shapes_monograph_exhibition:ExhibitionForm_dcterms_isPartOf ,
        raremat_shapes_monograph_exhibition:ExhibitionForm_arm_startDate ,
        raremat_shapes_monograph_exhibition:ExhibitionForm_arm_endDate ,
        raremat_shapes_monograph_exhibition:ExhibitionForm_bf_identifiedBy ,
        raremat_shapes_monograph_exhibition:ExhibitionForm_arm_hasArrangement ,
        raremat_shapes_monograph_exhibition:ExhibitionForm_bf_title ,
        raremat_shapes_monograph_exhibition:ExhibitionForm_arm_hasActivity .
 
    
raremat_shapes_monograph_exhibition:ExhibitionForm_dcterms_isPartOf
    a sh:PropertyShape ;
    sh:path dcterms:isPartOf ;
    sh:class schema:ExhibitionEvent ;
    sh:nodeKind sh:IRI ; 
    sh:minCount 1 ;
    sh:maxCount 1 ;
    
    # NON-VALIDATING
    sh:name "Exhibited in" ; 
    sh:description "" ;      
    sh:order ""^^xsd:decimal ; 
    .        
 
raremat_shapes_monograph_exhibition:ExhibitionForm_arm_startDate
    a sh:PropertyShape ;
    sh:path arm:startDate ;
    sh:nodeKind sh:Literal ; 
    sh:maxCount 1 ;
    
    # NON-VALIDATING
    sh:name "Start date" ; 
    sh:description "The first date the item was displayed in the exhibition" ;      
    sh:order ""^^xsd:decimal .        


raremat_shapes_monograph_exhibition:ExhibitionForm_arm_endDate
    a sh:PropertyShape ;
    sh:path arm:startDate ;
    sh:nodeKind sh:Literal ; 
    sh:maxCount 1 ;
    
    # NON-VALIDATING
    sh:name "End date" ; 
    sh:description "The date the item was last displayed in the exhibition" ;      
    sh:order ""^^xsd:decimal .  
    
    
raremat_shapes_monograph_exhibition:ExhibitionForm_bf_identifiedBy
    a sh:PropertyShape ;
    sh:path bf:identifiedBy ;
    sh:nodeKind sh:IRI ; 
    sh:class bf:Identifier ;
    
    # NON-VALIDATING
    sh:name "Exhibition identifier" ; 
    sh:description "Identifier of the item in the exhibition" ;  
    sh:order ""^^xsd:decimal .     
    

raremat_shapes_monograph_exhibition:ExhibitionForm_arm_hasArrangement 
    a sh:PropertyShape ;
    sh:path arm:hasArrangement;
    sh:nodeKind sh:IRI ; 
    sh:class arm:Arrangement ;
    sh:maxCount 1 ;
    
    # NON-VALIDATING
    sh:name "Arrangement" ; 
    sh:description "Arrangement of the item in the exhibition (e.g., \"Open to plate 10\"" ;  
    sh:order ""^^xsd:decimal .   
    

raremat_shapes_monograph_exhibition:ExhibitionForm_bf_title 
    a sh:PropertyShape ;
    sh:path bf:title ;
    sh:nodeKind sh:IRI ; 
    sh:class bf:Title ;
    sh:maxCount 1 ;
    
    # NON-VALIDATING
    sh:name "Exhibition title" ; 
    sh:description "Title of the item in the exhibition" ;  
    sh:order ""^^xsd:decimal .   
            
# TODO Or change to bf:Contribution? 
# TODO Needs to go to Activity form
raremat_shapes_monograph_exhibition:ExhibitionForm_arm_hasActivity 
    a sh:PropertyShape ;
    sh:path arm:hasActivity ;
    sh:nodeKind sh:IRI ; 
    sh:class arm:Activity ;
    
    # NON-VALIDATING
    sh:name "Activity" ; 
    sh:description "Agent activity and role for the item in the exhibition (e.g., curator)." ;  
    sh:order ""^^xsd:decimal .           
        